import{j as i,a as ne,F as Ue}from"./jsx-runtime-86dfebf6.js";import{r as p}from"./index-1b03fe98.js";import{c as Ge}from"./index-256d607f.js";import{p as Ke,j as Je,g as Qe,L as Ze,a as ea,b as aa,G as ta}from"./RadialValueMarker-7b3f8322.js";import{c as ra,i as Ne}from"./functions-234b1417.js";import{l as na}from"./RadialAxis-6c2bc59c.js";import{u as le,c as ze}from"./chroma-699b8ba0.js";import{g as Le,D as Ce,e as ie,G as oe,T as se,b as ue,a as Z,f as qe,s as la,h as ia}from"./schemes-56affe43.js";import{C as W}from"./rdk-0beed5d4.js";import{g as oa,f as ee}from"./range-163cdb4a.js";import{g as sa}from"./utils-83ce1bd4.js";import{g as ua}from"./helper-26bacd48.js";import"./DiscreteLegendEntry-49610185.js";import"./SequentialLegend-1647127f.js";import"./Count-a38a1947.js";import{g as da,n as ca,c as pa,a as Re,b as ma}from"./builder-9833ba7e.js";import{s as fa,a as ya}from"./expand-7b65a05b.js";function ha(a,s){if((u=a.length)>0)for(var l,e=0,d,o,r,n,u,b=a[s[0]].length;e<b;++e)for(r=n=0,l=0;l<u;++l)(o=(d=a[s[l]][e])[1]-d[0])>0?(d[0]=r,d[1]=r+=o):o<0?(d[1]=n,d[0]=n+=o):(d[0]=0,d[1]=o)}function ba(a){const s=[],l=da(a);for(const e of a)for(const d of e.data){let o=s.findIndex(r=>r.x instanceof Date&&e.key instanceof Date?r.x.getTime()===e.key.getTime():r.x===e.key);o===-1&&(s.push({metadata:e.metadata,x:e.key,formattedValues:{}}),o=s.length-1),s[o].metadata=d.metadata,s[o][d.key]=ca(d.data,l),s[o].formattedValues[d.key]=pa(d.data)}return s}function ga(a,s="vertical"){const l=[],e=s==="vertical";for(const d of a)for(const o of d){const r=o.data.x;let n=l.findIndex(m=>m.key instanceof Date&&r instanceof Date?m.key.getTime()===r.getTime():m.key===r);n===-1&&(l.push({key:r,data:[]}),n=l.length-1);const u=d.key,b=o.data[u],[V,C]=o;l[n].data.push({metadata:o.data.metadata,key:r,x:e?u:C,x0:e?u:V,x1:e?u:C,y:e?b:u,y0:e?V:u,y1:e?C:u,value:o.data.formattedValues[u]})}return l}function Fe(a=[],s="default",l="vertical"){const e=le(a,n=>n.data,n=>n.key),d=ba(a);let o=fa();s==="expand"?o=o.offset(ya):s==="diverging"&&(o=o.offset(ha));const r=o.keys(e)(d);return ga(r,l)}function va(a=[]){const s=Fe(a,"expand"),l={};let e=0;for(const o of s){const r=o.data.reduce((n,u)=>n+u.y,0);l[o.key]=r,e+=r}let d=0;for(const o of s){const r=d,n=d+l[o.key]/e;d=n;for(const u of o.data)u.x0=r,u.x1=n}return s}const ka=(a,s="vertical",l=void 0)=>{const e=Re(a,s,l),o=s==="vertical"?"y":"x";let r=0;for(const n of e)n[`${o}0`]=r,r+=n[o],n[`${o}1`]=r,n[o]=r;return e},Sa=(a,s)=>{const l=na().rangeRound([0,a]);return s?l.nice():l},Va=({data:a,width:s,valueScale:l,padding:e})=>{const d=le(a,V=>V.key),o=a.length,n=(s-e*(o-1))/s,u=V=>{const[C]=V.data,m=l(C.x0),f=l(C.x1);return{x0:m,x1:f}},b=V=>{let C=0;const m=a.findIndex(q=>q.key===V),f=a[m];if(f&&f.data&&f.data.length){const{x1:q,x0:h}=u(f);C=(q-h)/2+h,e&&(C=C*n+m*e)}return C};return b.range=()=>[0,s],b.domain=()=>d,b.mariemkoInvert=V=>{let C;for(let m=0;m<d.length;m++){const f=d[m],q=a[m],{x1:h,x0:N}=u(q);if(V>=N-e/2&&V<=h-e/2){C=f;break}}return C},b};function Ca({dimension:a,padding:s,data:l,direction:e="vertical"}){const d=le(l,n=>n.key),o=d.length/(a/s+1),r=e==="vertical"?[0,a]:[a,0];return Le().rangeRound(r).paddingInner(o).paddingOuter(o/2).domain(d)}function qa({groupScale:a,padding:s,data:l,prop:e="x"}){const d=a.bandwidth(),o=le(l,n=>n.data,n=>n[e]),r=o.length/(d/s+1);return Le().rangeRound([0,d]).paddingInner(r).domain(o)}const K=({activeBrightness:a,id:s,gradient:l,data:e,barIndex:d,color:o,yScale:r,barCount:n,glow:u,xScale:b,groupIndex:V,minHeight:C,rangeLines:m,animated:f,active:q,type:h,tooltip:N,layout:T,mask:_,label:L,cursor:F,rx:H,ry:w,isCategorical:t,className:c,style:g,width:B,padding:A,guide:X,xScale1:v,onMouseEnter:y,onClick:M,onMouseMove:G,onMouseLeave:I})=>{const k=p.useMemo(()=>T==="vertical",[T]),Y=p.useRef(null),[J,te]=p.useState(q),xe=p.useCallback((S,x,z)=>{const P=S.range()[1],R=(P-A*(n-1))/P;return x=x*R+V*A,z=z*R,{size:z,offset:x}},[n,V,A]),Be=p.useCallback(({x:S,y:x,width:z,height:P})=>{let D=k?S:Math.min(...b.range()),R=k?Math.max(...r.range()):x;const j=k?0:P,E=k?z:0;return h==="stackedDiverging"&&(k?R=R/2:D=D/2),{x:D,y:R,height:j,width:E}},[k,h,b,r]),de=p.useCallback((S,x,z,P,D,R,j)=>{let E,$;if(R)if(P.bandwidth)E=P(S),$=P.bandwidth(),D&&(E?E=E+$/2-D/2:E=$/2-D/2,$=D);else{if(D)throw new Error("Not a valid option for this scale type");if(E=P(x),$=P(z-x),j){const U=xe(P,E,$);E=U.offset,$=U.size}}else{if(D)throw new Error("Not a valid option for this scale type");const U=P(x),je=P(z)-U;E=U,$=Math.max(je-1,0)}return{offset:isNaN(E)?0:E,size:isNaN($)?0:$}},[xe]),ce=p.useCallback((S,x,z)=>{const P=z(S),D=z(x),R=Math.abs(P-D),j=Math.max(C||0,R),E=Math.min(P,D);return{offset:isNaN(E)?0:E,size:isNaN(j)?0:j}},[C]),pe=p.useCallback(S=>{let x=r,z=b;if(v&&(k?z=v:x=v),k){const P=de(S.x,S.x0,S.x1,z,B,t,A),D=ce(S.y0,S.y1,x);return{x:P.offset,width:P.size,y:D.offset,height:D.size}}else{const P=de(S.y,S.y0,S.y1,x,B,t,A),D=ce(S.x0,S.x1,z);return{x:D.offset,width:D.size,y:P.offset,height:P.size}}},[de,ce,t,k,A,B,b,v,r]),Pe=p.useCallback(S=>{N&&te(!0),y==null||y({value:e,nativeEvent:S})},[e,y,N]),_e=p.useCallback(S=>{N&&te(!1),I==null||I({value:e,nativeEvent:S})},[e,I,N]),we=p.useCallback(S=>{M==null||M({value:e,nativeEvent:S})},[e,M]),Me=p.useCallback(S=>_?`url(#mask-pattern-${s})`:l?`url(#gradient-${s})`:S,[l,s,_]),Q=p.useMemo(()=>{let x=e[t?"x":"x0"];return e.x0<0&&(x=e.x0),(k?e.key&&e.key!==x:e.key&&e.key!==e.y)&&(x=`${e.key} ∙ ${x}`),{y:e.y,x}},[e,t,k]),Xe=p.useMemo(()=>oa(Q),[Q]),De=p.useCallback(S=>{if(f){let x=0;return T==="vertical"?x=S/n*.5:x=(n-S)/n*.5,{...Ce,delay:x}}else return{type:!1,delay:0}},[f,n,T]),Ie=p.useCallback((S,x,z)=>{const P=_?`url(#mask-${s})`:"",D=Me(S),R=Be(x),j=ra({className:c,style:g},e),E=De(z),$={...R,attrX:R.x,attrY:R.y,fill:D};delete $.x,delete $.y;const U={...x,attrX:x.x,attrY:x.y,fill:D};return delete U.x,delete U.y,i("g",{ref:Y,children:i(ie.rect,{className:Ge(j.className),style:{...j.style,...sa({glow:u,colorSchemeColor:S}),cursor:F},mask:P,rx:H,ry:w,initial:$,animate:U,exit:$,transition:E,onMouseEnter:Pe,onMouseLeave:_e,onClick:we,onMouseMove:G,tabIndex:0,"aria-label":Xe,role:"graphics-document"})})},[c,F,e,Be,Me,De,u,s,_,we,Pe,_e,G,H,w,g,Q]),$e=p.useCallback(()=>{if(!X||h==="stacked"&&d!==0)return null;if(h==="stackedNormalized"||h==="marimekko")return console.error("Guide bars are not supported for these chart types"),null;const S=k?r:b,[x,z]=S.domain(),P=k?"y":"x",D=h==="stackedDiverging"?"0":"1",R=h==="stackedDiverging"?x:z,j=h==="stackedDiverging"&&e[P]>0?z:R,E=pe({...e,[P]:R,[`${P}${D}`]:j});return i(W,{element:X,...E,active:q})},[q,d,e,pe,X,k,h,b,r]),We=N?J:q,re=o(e,d),me=pe(e),fe=q?ze(re).brighten(a).hex():re,Te=m&&m.props.color||re,Ye=q?ze(Te).brighten(a):Te,ye=V!==void 0?V:d,Ae=k?r:b,He=k?Q.y:Q.x,Oe=T==="vertical"?"top":"right";return ne(p.Fragment,{children:[$e(),Ie(fe,me,ye),m&&i(W,{element:m,...me,index:ye,data:e,scale:Ae,color:Ye,barCount:n,animated:f,layout:T,type:h}),_&&ne(p.Fragment,{children:[i(Ke,{id:`mask-${s}`,fill:`url(#gradient-${s})`}),i(W,{element:_,id:`mask-pattern-${s}`,fill:re})]}),l&&i(W,{element:l,id:`gradient-${s}`,direction:T,color:fe}),L&&i(W,{element:L,...me,text:ee(He),index:ye,data:e,scale:Ae,fill:L.props.fill||fe,barCount:n,animated:f,layout:T,type:h}),N&&i(W,{element:N,visible:!!We,reference:Y,color:o,value:Q,placement:N.props.placement||Oe,data:e})]})};K.defaultProps={activeBrightness:.5,rx:0,ry:0,cursor:"auto",rangeLines:null,label:null,tooltip:null,layout:"vertical",guide:null,gradient:i(oe,{})};try{K.displayName="Bar",K.__docgenInfo={description:"",displayName:"Bar",props:{active:{defaultValue:null,description:"Whether the bar is active or not.",name:"active",required:!1,type:{name:"boolean"}},activeBrightness:{defaultValue:{value:"0.5"},description:`Chroma brightness factor to brighten the active bar. See
https://gka.github.io/chroma.js/#color-brighten for more info.`,name:"activeBrightness",required:!1,type:{name:"number"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `BarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `BarChart`.",name:"yScale",required:!1,type:{name:"any"}},xScale1:{defaultValue:null,description:"D3 scale for X Multi-Group Axis. Set internally by `BarChart`.",name:"xScale1",required:!1,type:{name:"any"}},data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalShallowDataShape"}},id:{defaultValue:null,description:"Id set internally by `BarChart`.",name:"id",required:!1,type:{name:"string"}},gradient:{defaultValue:{value:"<Gradient />"},description:"Gradient shades for the bar.",name:"gradient",required:!1,type:{name:"ReactElement<GradientProps, FC<Partial<GradientProps>>>"}},rx:{defaultValue:{value:"0"},description:"SVG rx attribute for the bar.",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:{value:"0"},description:"SVG ry attribute for the bar.",name:"ry",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the bar. Set internally by `BarSeries`.",name:"width",required:!1,type:{name:"number"}},padding:{defaultValue:null,description:"Padding for the bar groups.",name:"padding",required:!1,type:{name:"number"}},barCount:{defaultValue:null,description:"Total number of bars used for animation. Set internally by `BarSeries`.",name:"barCount",required:!1,type:{name:"number"}},color:{defaultValue:null,description:"Color callback for the bar.",name:"color",required:!1,type:{name:"any"}},cursor:{defaultValue:{value:"auto"},description:"Cursor for the bar element.",name:"cursor",required:!1,type:{name:"string"}},barIndex:{defaultValue:null,description:"Index of the bar. Set internally by `BarSeries`.",name:"barIndex",required:!1,type:{name:"number"}},groupIndex:{defaultValue:null,description:"Index of the group. Set internally by `BarSeries`.",name:"groupIndex",required:!1,type:{name:"number"}},animated:{defaultValue:null,description:"Whether to animate the enter/update/exit. Set internally by `BarSeries`.",name:"animated",required:!1,type:{name:"boolean"}},isCategorical:{defaultValue:null,description:"Whether this is categorical chart or not. Set internally by `BarSeries`.",name:"isCategorical",required:!1,type:{name:"boolean"}},rangeLines:{defaultValue:{value:"null"},description:"Rangelines element. for the bar.",name:"rangeLines",required:!1,type:{name:"ReactElement<RangeLinesProps, FC<Partial<RangeLinesProps>>>"}},mask:{defaultValue:null,description:"Mask element for the bar.",name:"mask",required:!1,type:{name:"ReactElement<MaskProps, FC<MaskProps>>"}},tooltip:{defaultValue:{value:"null"},description:"Tooltip element.",name:"tooltip",required:!1,type:{name:"ReactElement<ChartTooltipProps, FC<Partial<ChartTooltipProps>>>"}},layout:{defaultValue:{value:"vertical"},description:"Direction of the chart. Set internally by `BarSeries`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},type:{defaultValue:null,description:"Type of bar chart. Set internally by `BarSeries`.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}},label:{defaultValue:{value:"null"},description:"Label element.",name:"label",required:!1,type:{name:"ReactElement<BarLabelProps, FC<Partial<BarLabelProps>>>"}},guide:{defaultValue:{value:"null"},description:"Guide bar component.",name:"guide",required:!1,type:{name:"ReactElement<GuideBarProps, FC<Partial<GuideBarProps>>>"}},minHeight:{defaultValue:null,description:"Force a min height on the bar.",name:"minHeight",required:!1,type:{name:"number"}},glow:{defaultValue:null,description:"Glow styling for the bar.",name:"glow",required:!1,type:{name:"Glow"}},onClick:{defaultValue:null,description:"Event for when the bar is clicked.",name:"onClick",required:!1,type:{name:"(event: ClickEvent) => void"}},onMouseEnter:{defaultValue:null,description:"Event for when the bar has mouse enter.",name:"onMouseEnter",required:!1,type:{name:"(event: any) => void"}},onMouseLeave:{defaultValue:null,description:"Event for when the bar has mouse leave.",name:"onMouseLeave",required:!1,type:{name:"(event: any) => void"}},onMouseMove:{defaultValue:null,description:"Event for when a bar has mouse move.",name:"onMouseMove",required:!1,type:{name:"(event: any) => void"}},className:{defaultValue:null,description:"Classnames to apply to the element.",name:"className",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"CSS styles to apply to the element.",name:"style",required:!1,type:{name:"any"}}}}}catch{}const O=({data:a,tooltip:s,xScale:l,yScale:e,height:d,width:o,colorScheme:r,xScale1:n,bar:u,padding:b,animated:V,isCategorical:C,layout:m,type:f,id:q,valueMarkers:h})=>{const N=p.useRef(null),[T,_]=p.useState(null),L=p.useMemo(()=>m==="vertical",[m]),F=p.useMemo(()=>f==="grouped"||f==="stacked"||f==="marimekko"||f==="stackedNormalized"||f==="stackedDiverging",[f]),H=p.useCallback(v=>{let y=0,M=0;return f!=="marimekko"&&(m==="vertical"?y=l(v.key):M=e(v.key)),`translate(${y}, ${M})`},[m,f,l,e]),w=p.useCallback((v,y)=>{let M="key";return F&&(m==="vertical"?M="x":M="y"),v[M]===void 0&&(M="x0"),ua({colorScheme:r,point:v,index:y,data:a,isMultiSeries:F,attribute:M})},[r,a,F,m]),t=p.useCallback(v=>{var y;(y=N.current)==null||y.triggerMouseMove(v)},[]),c=p.useCallback(v=>{_(v.value)},[]),g=p.useCallback(()=>{_(null)},[]),B=p.useCallback((v,y,M,G)=>{const I=T&&T.x===v.key;let k=e,Y=l;n&&(L?Y=n:k=n);let J=y.toString();v.key&&(J=`${v.key.toString()}-${G}-${v.x}`);let te=Array.isArray(u)?u[y]:u;return u||(te=i(K,{})),i(p.Fragment,{children:i(W,{element:te,id:`${q}-bar-${G}-${y}`,animated:V,active:I,xScale:Y,xScale1:n,yScale:k,padding:b,barCount:M,groupIndex:G,barIndex:y,data:v,isCategorical:C,color:w,layout:m,type:f,onMouseMove:t})},J)},[T,V,u,w,q,C,L,m,t,b,f,l,n,e]),A=p.useCallback((v,y,M)=>i(p.Fragment,{children:v.map((G,I)=>B(G,I,y,M))}),[B]),X=p.useCallback(()=>i(Ue,{children:(h==null?void 0:h.length)&&h.map(v=>i(W,{element:v,size:m==="vertical"?o:d,value:m==="vertical"?e(v.props.value):l(v.props.value),isHorizontal:m==="vertical"},v.key))}),[d,m,h,o,l,e]);return ne(W,{element:s,childRef:N,xScale:l,yScale:e,data:a,height:d,width:o,inverse:!1,isHorizontal:m==="horizontal",color:w,onValueEnter:c,onValueLeave:g,isContinous:!1,children:[F&&a.map((v,y)=>i("g",{transform:H(v),children:A(v.data,a.length,y)},`bar-group-${y}`)),!F&&A(a,a.length),X()]})};O.defaultProps={type:"standard",padding:.1,groupPadding:16,animated:!0,tooltip:i(se,{tooltip:i(ue,{followCursor:!0,modifiers:{offset:"5px, 5px"}})}),colorScheme:"cybertron",bar:i(K,{}),layout:"vertical"};try{O.displayName="BarSeries",O.__docgenInfo={description:"",displayName:"BarSeries",props:{data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalDataShape[]"}},id:{defaultValue:null,description:"Id of the bar chart. Set internally by `BarChart`.",name:"id",required:!1,type:{name:"string"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `BarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `BarChart`.",name:"yScale",required:!1,type:{name:"any"}},xScale1:{defaultValue:null,description:"D3 scale for X Multi-Group Axis. Set internally by `BarChart`.",name:"xScale1",required:!1,type:{name:"any"}},bar:{defaultValue:{value:"<Bar />"},description:"Bar element.",name:"bar",required:!1,type:{name:"BarElement | BarElement[]"}},type:{defaultValue:{value:"standard"},description:"Type of the chart.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}},colorScheme:{defaultValue:{value:"cybertron"},description:"Color scheme for the chart.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType"}},animated:{defaultValue:{value:"true"},description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},padding:{defaultValue:{value:"0.1"},description:"Amount of padding between each bar.",name:"padding",required:!1,type:{name:"number"}},groupPadding:{defaultValue:{value:"16"},description:"Amount of padding between each group.",name:"groupPadding",required:!1,type:{name:"number"}},isCategorical:{defaultValue:null,description:"Whether the chart is categorical or not. Set internally by `BarChart`.",name:"isCategorical",required:!1,type:{name:"boolean"}},layout:{defaultValue:{value:"vertical"},description:"Direction of the chart",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},binSize:{defaultValue:null,description:"The size of each bin/bucket in the bar chart.",name:"binSize",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `BarChart`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the chart. Set internally by `BarChart`.",name:"width",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:`(
    <TooltipArea
      tooltip={
        <ChartTooltip
          followCursor={true}
          modifiers={{
            offset: '5px, 5px'
          }}
        />
      }
    />
  )`},description:"Tooltip for the chart area.",name:"tooltip",required:!1,type:{name:"ReactElement<TooltipAreaProps, ForwardRefExoticComponent<Partial<TooltipAreaProps> & RefAttributes<any>>>"}},valueMarkers:{defaultValue:null,description:"Value markers line for the chart.",name:"valueMarkers",required:!1,type:{name:"ReactElement<LinearValueMarkerProps, FC<LinearValueMarkerProps>>[]"}}}}}catch{}const ae=({layout:a,color:s,x:l,y:e,scale:d,type:o,height:r,position:n,strokeWidth:u,width:b,animated:V,index:C,barCount:m,data:f})=>{const q=p.useMemo(()=>a==="vertical",[a]),h=p.useMemo(()=>Math.min(u,q?r:b),[r,q,u,b]),[N,T]=p.useMemo(()=>[q?b:h,q?h:r],[r,q,h,b]),_=p.useMemo(()=>{let t=e,c=l;const g=n==="top",B=q?f.y<0&&g?"bottom":n:f.x0<0&&g?"bottom":n;return q?B==="top"?t=e:t=e+r-h:B==="top"?c=l+b-h:c=l,{x:c,y:t,opacity:1}},[f.x0,f.y,r,q,n,h,b,l,e]),L=p.useMemo(()=>{let t=e,c=l;if(q){const g=Math.max(...d.range());n==="top"?t=g:t=g+r-h}else{const g=Math.min(...d.range());n==="top"?c=g:c=g+b-h}return o==="stackedDiverging"&&(q?t=t/2:c=c/2),{y:t,x:c,opacity:0}},[r,q,n,h,d,o,b,l,e]),F=p.useMemo(()=>{let t=0;return V?a==="vertical"?C/m*.5:(m-C)/m*.5:t},[V,m,C,a]),H=p.useMemo(()=>{const t={...L,attrX:L.x,attrY:L.y};return delete t.x,delete t.y,t},[L]),w=p.useMemo(()=>{const t={..._,attrX:_.x,attrY:_.y};return delete t.x,delete t.y,t},[_]);return i(ie.rect,{pointerEvents:"none",fill:s,width:N,height:T,initial:H,animate:w,exit:H,transition:{...Ce,delay:F}})};ae.defaultProps={position:"top",strokeWidth:1,layout:"vertical"};try{ae.displayName="RangeLines",ae.__docgenInfo={description:"",displayName:"RangeLines",props:{height:{defaultValue:null,description:"Height of the bar.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the bar.",name:"width",required:!1,type:{name:"number"}},x:{defaultValue:null,description:"SVG x attribute for the bar.",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"SVG y attribute for the bar.",name:"y",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"Group index or index of the bar. Set internally by `BarSeries`.",name:"index",required:!1,type:{name:"number"}},strokeWidth:{defaultValue:{value:"1"},description:"Stroke width of the range line.",name:"strokeWidth",required:!1,type:{name:"number"}},scale:{defaultValue:null,description:"D3 scale for Axis. Set internally by `BarChart`.",name:"scale",required:!1,type:{name:"any"}},position:{defaultValue:{value:"top"},description:"Position of the range line.",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalShallowDataShape"}},color:{defaultValue:null,description:"Color for the range line.",name:"color",required:!1,type:{name:"string"}},barCount:{defaultValue:null,description:"Total number of bars used for animation. Set internally by `BarSeries`.",name:"barCount",required:!1,type:{name:"number"}},layout:{defaultValue:{value:"vertical"},description:"Direction of the chart. Set internally by `BarSeries`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},animated:{defaultValue:null,description:"Whether to animate the enter/update/exit. Set internally by `BarSeries`.",name:"animated",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"Type of bar chart. Set internally by `BarSeries`.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}}}}}catch{}const he=a=>i(O,{type:"stackedNormalized",...a});he.defaultProps={...O.defaultProps,type:"stacked",bar:i(K,{gradient:i(oe,{stops:[i(Z,{offset:"5%",stopOpacity:.1},"start"),i(Z,{offset:"90%",stopOpacity:.7},"stop")]}),rangeLines:i(ae,{position:"top",strokeWidth:3})})};try{he.displayName="StackedBarSeries",he.__docgenInfo={description:"",displayName:"StackedBarSeries",props:{data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalDataShape[]"}},id:{defaultValue:null,description:"Id of the bar chart. Set internally by `BarChart`.",name:"id",required:!1,type:{name:"string"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `BarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `BarChart`.",name:"yScale",required:!1,type:{name:"any"}},xScale1:{defaultValue:null,description:"D3 scale for X Multi-Group Axis. Set internally by `BarChart`.",name:"xScale1",required:!1,type:{name:"any"}},bar:{defaultValue:{value:`(
    <Bar
      gradient={
        <Gradient
          stops={[
            <GradientStop offset="5%" stopOpacity={0.1} key="start" />,
            <GradientStop offset="90%" stopOpacity={0.7} key="stop" />
          ]}
        />
      }
      rangeLines={<RangeLines position="top" strokeWidth={3} />}
    />
  )`},description:"Bar element.",name:"bar",required:!1,type:{name:"BarElement | BarElement[]"}},type:{defaultValue:{value:"stacked"},description:"Type of the chart.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}},colorScheme:{defaultValue:null,description:"Color scheme for the chart.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType"}},animated:{defaultValue:null,description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},padding:{defaultValue:null,description:"Amount of padding between each bar.",name:"padding",required:!1,type:{name:"number"}},groupPadding:{defaultValue:null,description:"Amount of padding between each group.",name:"groupPadding",required:!1,type:{name:"number"}},isCategorical:{defaultValue:null,description:"Whether the chart is categorical or not. Set internally by `BarChart`.",name:"isCategorical",required:!1,type:{name:"boolean"}},layout:{defaultValue:null,description:"Direction of the chart",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},binSize:{defaultValue:null,description:"The size of each bin/bucket in the bar chart.",name:"binSize",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `BarChart`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the chart. Set internally by `BarChart`.",name:"width",required:!1,type:{name:"number"}},tooltip:{defaultValue:null,description:"Tooltip for the chart area.",name:"tooltip",required:!1,type:{name:"ReactElement<TooltipAreaProps, ForwardRefExoticComponent<Partial<TooltipAreaProps> & RefAttributes<any>>>"}},valueMarkers:{defaultValue:null,description:"Value markers line for the chart.",name:"valueMarkers",required:!1,type:{name:"ReactElement<LinearValueMarkerProps, FC<LinearValueMarkerProps>>[]"}}}}}catch{}const be=a=>i(O,{type:"stackedNormalized",...a});be.defaultProps={...O.defaultProps,type:"stackedNormalized",tooltip:i(se,{tooltip:i(ue,{followCursor:!0,modifiers:{offset:"5px, 5px"},content:(a,s)=>(a.data=a.data.map(l=>{const e=isNaN(l.y0)?l.x0:l.y0,d=isNaN(l.y1)?l.x1:l.y1;return{...l,value:`${ee(Math.floor((d-e)*100))}%`}}),i(qe,{value:a,color:s}))})}),bar:i(K,{gradient:i(oe,{stops:[i(Z,{offset:"5%",stopOpacity:.1},"start"),i(Z,{offset:"90%",stopOpacity:.7},"stop")]}),rangeLines:i(ae,{position:"top",strokeWidth:3})})};try{be.displayName="StackedNormalizedBarSeries",be.__docgenInfo={description:"",displayName:"StackedNormalizedBarSeries",props:{data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalDataShape[]"}},id:{defaultValue:null,description:"Id of the bar chart. Set internally by `BarChart`.",name:"id",required:!1,type:{name:"string"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `BarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `BarChart`.",name:"yScale",required:!1,type:{name:"any"}},xScale1:{defaultValue:null,description:"D3 scale for X Multi-Group Axis. Set internally by `BarChart`.",name:"xScale1",required:!1,type:{name:"any"}},bar:{defaultValue:{value:`(
    <Bar
      gradient={
        <Gradient
          stops={[
            <GradientStop offset="5%" stopOpacity={0.1} key="start" />,
            <GradientStop offset="90%" stopOpacity={0.7} key="stop" />
          ]}
        />
      }
      rangeLines={<RangeLines position="top" strokeWidth={3} />}
    />
  )`},description:"Bar element.",name:"bar",required:!1,type:{name:"BarElement | BarElement[]"}},type:{defaultValue:{value:"stackedNormalized"},description:"Type of the chart.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}},colorScheme:{defaultValue:null,description:"Color scheme for the chart.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType"}},animated:{defaultValue:null,description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},padding:{defaultValue:null,description:"Amount of padding between each bar.",name:"padding",required:!1,type:{name:"number"}},groupPadding:{defaultValue:null,description:"Amount of padding between each group.",name:"groupPadding",required:!1,type:{name:"number"}},isCategorical:{defaultValue:null,description:"Whether the chart is categorical or not. Set internally by `BarChart`.",name:"isCategorical",required:!1,type:{name:"boolean"}},layout:{defaultValue:null,description:"Direction of the chart",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},binSize:{defaultValue:null,description:"The size of each bin/bucket in the bar chart.",name:"binSize",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `BarChart`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the chart. Set internally by `BarChart`.",name:"width",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:`(
    <TooltipArea
      tooltip={
        <ChartTooltip
          followCursor={true}
          modifiers={{
            offset: '5px, 5px'
          }}
          content={(point, color) => {
            point.data = point.data.map((d) => {
              // Handle horz case
              const start = isNaN(d.y0) ? d.x0 : d.y0;
              const end = isNaN(d.y1) ? d.x1 : d.y1;

              return {
                ...d,
                value: \`\${formatValue(Math.floor((end - start) * 100))}%\`
              };
            });

            return <TooltipTemplate value={point} color={color} />;
          }}
        />
      }
    />
  )`},description:"Tooltip for the chart area.",name:"tooltip",required:!1,type:{name:"ReactElement<TooltipAreaProps, ForwardRefExoticComponent<Partial<TooltipAreaProps> & RefAttributes<any>>>"}},valueMarkers:{defaultValue:null,description:"Value markers line for the chart.",name:"valueMarkers",required:!1,type:{name:"ReactElement<LinearValueMarkerProps, FC<LinearValueMarkerProps>>[]"}}}}}catch{}const ge=a=>i(O,{type:"marimekko",...a});ge.defaultProps={...O.defaultProps,type:"marimekko",padding:10,tooltip:i(se,{tooltip:i(ue,{followCursor:!0,modifiers:{offset:"5px, 5px"},content:(a,s)=>{const l={...a,data:a.data.map(e=>({...e,value:`${ee(e.value)} ∙ ${ee(Math.floor((e.y1-e.y0)*100))}%`}))};return i(qe,{value:l,color:s})}})}),bar:i(K,{padding:10,gradient:i(oe,{stops:[i(Z,{offset:"5%",stopOpacity:.1},"start"),i(Z,{offset:"90%",stopOpacity:.7},"stop")]}),rangeLines:i(ae,{position:"top",strokeWidth:3})})};try{ge.displayName="MarimekkoBarSeries",ge.__docgenInfo={description:"",displayName:"MarimekkoBarSeries",props:{data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalDataShape[]"}},id:{defaultValue:null,description:"Id of the bar chart. Set internally by `BarChart`.",name:"id",required:!1,type:{name:"string"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `BarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `BarChart`.",name:"yScale",required:!1,type:{name:"any"}},xScale1:{defaultValue:null,description:"D3 scale for X Multi-Group Axis. Set internally by `BarChart`.",name:"xScale1",required:!1,type:{name:"any"}},bar:{defaultValue:{value:`(
    <Bar
      padding={10}
      gradient={
        <Gradient
          stops={[
            <GradientStop offset="5%" stopOpacity={0.1} key="start" />,
            <GradientStop offset="90%" stopOpacity={0.7} key="stop" />
          ]}
        />
      }
      rangeLines={<RangeLines position="top" strokeWidth={3} />}
    />
  )`},description:"Bar element.",name:"bar",required:!1,type:{name:"BarElement | BarElement[]"}},type:{defaultValue:{value:"marimekko"},description:"Type of the chart.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}},colorScheme:{defaultValue:null,description:"Color scheme for the chart.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType"}},animated:{defaultValue:null,description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},padding:{defaultValue:{value:"10"},description:"Amount of padding between each bar.",name:"padding",required:!1,type:{name:"number"}},groupPadding:{defaultValue:null,description:"Amount of padding between each group.",name:"groupPadding",required:!1,type:{name:"number"}},isCategorical:{defaultValue:null,description:"Whether the chart is categorical or not. Set internally by `BarChart`.",name:"isCategorical",required:!1,type:{name:"boolean"}},layout:{defaultValue:null,description:"Direction of the chart",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},binSize:{defaultValue:null,description:"The size of each bin/bucket in the bar chart.",name:"binSize",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `BarChart`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the chart. Set internally by `BarChart`.",name:"width",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:`(
    <TooltipArea
      tooltip={
        <ChartTooltip
          followCursor={true}
          modifiers={{
            offset: '5px, 5px'
          }}
          content={(point, color) => {
            const data = {
              ...point,
              data: point.data.map((d) => ({
                ...d,
                value: \`\${formatValue(d.value)} ∙ \${formatValue(
                  Math.floor((d.y1 - d.y0) * 100)
                )}%\`
              }))
            };

            return <TooltipTemplate value={data} color={color} />;
          }}
        />
      }
    />
  )`},description:"Tooltip for the chart area.",name:"tooltip",required:!1,type:{name:"ReactElement<TooltipAreaProps, ForwardRefExoticComponent<Partial<TooltipAreaProps> & RefAttributes<any>>>"}},valueMarkers:{defaultValue:null,description:"Value markers line for the chart.",name:"valueMarkers",required:!1,type:{name:"ReactElement<LinearValueMarkerProps, FC<LinearValueMarkerProps>>[]"}}}}}catch{}const ve=({fontSize:a,fontFamily:s,fill:l,layout:e,className:d,text:o,x:r,y:n,height:u,position:b,width:V,data:C,padding:m,scale:f,type:q,animated:h,index:N,barCount:T})=>{const _=p.useMemo(()=>e==="vertical",[e]),L=_?"middle":"start",F=p.useMemo(()=>{let t=n,c=r;const g=b==="top",B=_?C.y<0&&g?"bottom":b:C.x0<0&&g?"bottom":b;return _?(B==="top"?t=n-m:B==="center"?t=n+u/2:B==="bottom"&&(t=n+u-m),c=c+V/2):(B==="top"?c=r+V+m:B==="center"?c=r+V/2:B==="bottom"&&(c=r+m),t=t+u/2),{translateX:c,translateY:t,opacity:1}},[C.x0,C.y,u,_,m,b,V,r,n]),H=p.useMemo(()=>{let t=n,c=r;if(_){const g=Math.max(...f.range());b==="top"?t=g:t=g+u+m,c=c+V/2}else{const g=Math.min(...f.range());b==="top"?c=g:c=g+V+m,t=t+u/2}return q==="stackedDiverging"&&(_?t=t/2:c=c/2),{translateY:t,translateX:c,opacity:0}},[u,_,m,b,f,q,V,r,n]),w=p.useMemo(()=>{let t=0;return h?e==="vertical"?N/T*.5:(T-N)/T*.5:t},[h,T,N,e]);return i(ie.g,{initial:H,animate:F,exit:H,transition:{...Ce,delay:w},fontSize:a,fontFamily:s,children:i("text",{fill:l,className:d,textAnchor:L,children:o})})};ve.defaultProps={position:"top",layout:"vertical",fontSize:13,padding:5,fontFamily:"sans-serif",fill:"#000"};try{ve.displayName="BarLabel",ve.__docgenInfo={description:"",displayName:"BarLabel",props:{text:{defaultValue:null,description:"Text of the label. Set internally by `Bar`.",name:"text",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"Height of the bar.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the bar.",name:"width",required:!1,type:{name:"number"}},x:{defaultValue:null,description:"SVG x attribute for the bar.",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"SVG y attribute for the bar.",name:"y",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"Group index or index of the bar. Set internally by `BarSeries`.",name:"index",required:!1,type:{name:"number"}},scale:{defaultValue:null,description:"D3 scale for Axis. Set internally by `BarChart`.",name:"scale",required:!1,type:{name:"any"}},position:{defaultValue:{value:"top"},description:"Position of the label.",name:"position",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"top"'},{value:'"bottom"'}]}},data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalShallowDataShape"}},fill:{defaultValue:{value:"#000"},description:"Color of the text.",name:"fill",required:!1,type:{name:"string"}},barCount:{defaultValue:null,description:"Number of the bars in the bar group. Set internally by `BarSeries`.",name:"barCount",required:!1,type:{name:"number"}},layout:{defaultValue:{value:"vertical"},description:"Layout of bar chart to render. Set internally by `BarSeries`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},animated:{defaultValue:null,description:"Whether to animate the enter/update/exit. Set internally by `BarSeries`.",name:"animated",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"Type of bar chart to render. Set internally by `BarSeries`.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}},fontSize:{defaultValue:{value:"13"},description:"Font size of the text.",name:"fontSize",required:!1,type:{name:"number"}},fontFamily:{defaultValue:{value:"sans-serif"},description:"Font family of the text.",name:"fontFamily",required:!1,type:{name:"string"}},padding:{defaultValue:{value:"5"},description:"Padding of the label.",name:"padding",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"Class name to apply to the text.",name:"className",required:!1,type:{name:"any"}}}}}catch{}const ke=({type:a,...s})=>i(O,{...s});ke.defaultProps={...O.defaultProps,colorScheme:la.cybertron[0],tooltip:i(se,{tooltip:i(ue,{followCursor:!0,modifiers:{offset:"5px, 5px"},content:(a,s)=>{const l={...a,x:`${ee(a.x0)} - ${ee(a.x1)}`,value:a.y};return i(qe,{value:l,color:s})}})})};try{ke.displayName="HistogramBarSeries",ke.__docgenInfo={description:"",displayName:"HistogramBarSeries",props:{data:{defaultValue:null,description:"Parsed data shape. Set internally by `BarChart`.",name:"data",required:!1,type:{name:"ChartInternalDataShape[]"}},id:{defaultValue:null,description:"Id of the bar chart. Set internally by `BarChart`.",name:"id",required:!1,type:{name:"string"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `BarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `BarChart`.",name:"yScale",required:!1,type:{name:"any"}},xScale1:{defaultValue:null,description:"D3 scale for X Multi-Group Axis. Set internally by `BarChart`.",name:"xScale1",required:!1,type:{name:"any"}},bar:{defaultValue:null,description:"Bar element.",name:"bar",required:!1,type:{name:"BarElement | BarElement[]"}},type:{defaultValue:null,description:"Type of the chart.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'},{value:'"stacked"'},{value:'"stackedNormalized"'},{value:'"stackedDiverging"'},{value:'"marimekko"'},{value:'"waterfall"'}]}},colorScheme:{defaultValue:{value:"schemes.cybertron[0]"},description:"Color scheme for the chart.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType"}},animated:{defaultValue:null,description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},padding:{defaultValue:null,description:"Amount of padding between each bar.",name:"padding",required:!1,type:{name:"number"}},groupPadding:{defaultValue:null,description:"Amount of padding between each group.",name:"groupPadding",required:!1,type:{name:"number"}},isCategorical:{defaultValue:null,description:"Whether the chart is categorical or not. Set internally by `BarChart`.",name:"isCategorical",required:!1,type:{name:"boolean"}},layout:{defaultValue:null,description:"Direction of the chart",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},binSize:{defaultValue:null,description:"The size of each bin/bucket in the bar chart.",name:"binSize",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `BarChart`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the chart. Set internally by `BarChart`.",name:"width",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:`(
    <TooltipArea
      tooltip={
        <ChartTooltip
          followCursor={true}
          modifiers={{
            offset: '5px, 5px'
          }}
          content={(point, color) => {
            const data = {
              ...point,
              x: \`\${formatValue(point.x0)} - \${formatValue(point.x1)}\`,
              value: point.y
            };

            return <TooltipTemplate value={data} color={color} />;
          }}
        />
      }
    />
  )`},description:"Tooltip for the chart area.",name:"tooltip",required:!1,type:{name:"ReactElement<TooltipAreaProps, ForwardRefExoticComponent<Partial<TooltipAreaProps> & RefAttributes<any>>>"}},valueMarkers:{defaultValue:null,description:"Value markers line for the chart.",name:"valueMarkers",required:!1,type:{name:"ReactElement<LinearValueMarkerProps, FC<LinearValueMarkerProps>>[]"}}}}}catch{}const Se=({active:a,opacity:s=.15,...l})=>{const{x:e,y:d,...o}=l;return i(ie.rect,{...o,pointerEvents:"none",initial:"hidden",animate:a?"visible":"hidden",variants:{hidden:{opacity:0,attrX:e,attrY:d},visible:{opacity:s,attrX:e,attrY:d}}})};Se.defaultProps={fill:"#eee",opacity:.15};try{Se.displayName="GuideBar",Se.__docgenInfo={description:"",displayName:"GuideBar",props:{active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},fill:{defaultValue:{value:"#eee"},description:"",name:"fill",required:!1,type:{name:"string"}},opacity:{defaultValue:{value:"0.15"},description:"",name:"opacity",required:!1,type:{name:"number"}}}}}catch{}const xa="_barChart_sfjii_1",Ba="_stackedNormalized_sfjii_4",Pa="_stacked_sfjii_4",_a="_marimekko_sfjii_6",Ee={barChart:xa,stackedNormalized:Ba,stacked:Pa,marimekko:_a},Ve=({id:a,width:s,height:l,margins:e,className:d,data:o,xAxis:r,yAxis:n,series:u,brush:b,gridlines:V,secondaryAxis:C,containerClassName:m})=>{const f=p.useMemo(()=>u.props.layout==="vertical",[u]),q=p.useMemo(()=>f?r:n,[n,r,f]),h=p.useMemo(()=>u.props.type==="stackedDiverging",[u.props.type]),N=p.useCallback((w,t,c)=>{const g=Sa(c,t.props.roundDomains),B=Va({width:c,padding:u.props.padding,data:w,valueScale:g});return{keyScale:g,groupScale:B}},[u.props.padding]),T=p.useCallback((w,t,c)=>{const{groupPadding:g,layout:B}=u.props,A=Ca({dimension:f?c:t,direction:B,padding:g,data:w}),X=qa({groupScale:A,padding:u.props.padding,data:w,prop:f?"x":"y"});return{groupScale:A,keyScale:X}},[f,u.props]),_=p.useCallback((w,t,c,g)=>Je({width:g,type:t.props.type,roundDomains:t.props.roundDomains,data:w,padding:u.props.padding,domain:t.props.domain,isMultiSeries:c,isDiverging:h}),[h,u]),L=p.useCallback((w,t,c,g)=>Qe({roundDomains:t.props.roundDomains,padding:u.props.padding,type:t.props.type,height:g,data:w,domain:t.props.domain,isMultiSeries:c,isDiverging:h}),[h,u]),F=p.useCallback((w,t)=>{const{type:c,layout:g}=u.props,B=c==="marimekko",A=c==="grouped",X=c==="stacked"||c==="stackedNormalized"||c==="stackedDiverging",v=A||X;let y;if(X){let k="default";c==="stackedNormalized"?k="expand":c==="stackedDiverging"&&(k="diverging"),y=Fe(o,k,g)}else c==="waterfall"?y=ka(o,g,u.props.binSize):B?y=va(o):A?y=ma(o,!1,g):y=Re(o,g,u.props.binSize);let M,G,I;if(f){if(A){const{keyScale:k,groupScale:Y}=T(y,w,t);G=Y,I=k}else if(B){const{keyScale:k,groupScale:Y}=N(y,r,t);G=Y,I=k}else G=_(y,r,v,t);M=L(y,n,v,w)}else if(A){const{keyScale:k,groupScale:Y}=T(y,w,t);M=Y,I=k,G=_(y,r,v,t)}else{if(B)throw new Error("Marimekko is currently not supported for horizontal layouts");G=_(y,r,v,t),M=L(y,n,v,w)}return{xScale:G,xScale1:I,yScale:M,aggregatedData:y}},[_,o,N,T,L,f,u.props,r,n]),H=p.useCallback(w=>{const{chartHeight:t,chartWidth:c,id:g,updateAxes:B,chartSized:A}=w,{xScale:X,xScale1:v,yScale:y,aggregatedData:M}=F(t,c),G=q.props.type==="category",I=M.length<=1;return ne(p.Fragment,{children:[A&&V&&i(W,{element:V,height:t,width:c,yScale:y,xScale:X,yAxis:n.props,xAxis:r.props}),i(W,{element:r,height:t,width:c,scale:X,visibility:A?"visible":"hidden",onDimensionsChange:k=>B(f?"horizontal":"vertical",k)}),i(W,{element:n,height:t,width:c,scale:y,visibility:A?"visible":"hidden",onDimensionsChange:k=>B(f?"vertical":"horizontal",k)}),C&&C.map((k,Y)=>i(W,{element:k,height:t,width:c,visibility:A?"visible":"hidden",onDimensionsChange:J=>B("horizontal",J)},Y)),A&&i(W,{disabled:I,element:b,height:t,width:c,scale:X,children:i(W,{element:u,id:`bar-series-${g}`,data:M,height:t,width:c,isCategorical:G,xScale:X,xScale1:v,yScale:y})})]})},[b,F,V,f,q,C,u,r,n]);return i(ia,{id:a,width:s,height:l,margins:e,containerClassName:m,xAxisVisible:Ne(r.props),yAxisVisible:Ne(n.props),className:Ge(Ee.barChart,d,Ee[u.props.type]),children:H})};Ve.defaultProps={data:[],xAxis:i(Ze,{type:"category",tickSeries:i(ea,{tickSize:20})}),yAxis:i(aa,{type:"value"}),series:i(O,{}),gridlines:i(ta,{}),brush:null};try{Ve.displayName="BarChart",Ve.__docgenInfo={description:"",displayName:"BarChart",props:{data:{defaultValue:{value:"[]"},description:"Data the chart will receive to render.",name:"data",required:!1,type:{name:"ChartDataShape[]"}},series:{defaultValue:{value:"<BarSeries />"},description:"The series component that renders the bar components.",name:"series",required:!1,type:{name:"ReactElement<BarSeriesProps, FC<Partial<BarSeriesProps>>>"}},yAxis:{defaultValue:{value:'<LinearYAxis type="value" />'},description:"The linear axis component for the Y Axis of the chart.",name:"yAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>"}},xAxis:{defaultValue:{value:`(
    <LinearXAxis
      type="category"
      tickSeries={<LinearXAxisTickSeries tickSize={20} />}
    />
  )`},description:"The linear axis component for the X Axis of the chart.",name:"xAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>"}},gridlines:{defaultValue:{value:"<GridlineSeries />"},description:"The chart's background gridlines component.",name:"gridlines",required:!1,type:{name:"ReactElement<GridlineSeriesProps, FC<Partial<GridlineSeriesProps>>>"}},brush:{defaultValue:{value:"null"},description:"The chart's brush component.",name:"brush",required:!1,type:{name:"ReactElement<ChartBrushProps, FC<Partial<ChartBrushProps>>>"}},secondaryAxis:{defaultValue:null,description:"Any secondary axis components. Useful for multi-axis charts.",name:"secondaryAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>[]"}},id:{defaultValue:null,description:"Id of the chart.",name:"id",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Width of the chart. If not provided will autosize.",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. If not provided will autosize.",name:"height",required:!1,type:{name:"number"}},margins:{defaultValue:null,description:"Margins for the chart.",name:"margins",required:!1,type:{name:"Margins"}},className:{defaultValue:null,description:"Classnames for the chart.",name:"className",required:!1,type:{name:"string"}},containerClassName:{defaultValue:null,description:"Classnames for the chart.",name:"containerClassName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional css styles.",name:"style",required:!1,type:{name:"StyleHTMLAttributes<SVGSVGElement>"}},center:{defaultValue:null,description:"Center the chart. Used mainly internally.",name:"center",required:!1,type:{name:"boolean"}},centerX:{defaultValue:null,description:"Center chart on X Axis only. Used mainly internally.",name:"centerX",required:!1,type:{name:"boolean"}},centerY:{defaultValue:null,description:"Center chart on Y Axis only. Used mainly internally.",name:"centerY",required:!1,type:{name:"boolean"}}}}}catch{}export{Ve as B,Se as G,ke as H,ge as M,ae as R,he as S,O as a,K as b,ve as c,be as d,Fe as e};
